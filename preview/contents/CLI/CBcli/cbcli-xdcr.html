<!DOCTYPE html><html xmlns:related-links="http://dita-ot.sourceforge.net/ns/200709/related-links" class="no-js developer-portal" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>XDCR</title><meta name="apple-mobile-web-app-title" content="Couchbase"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"><link rel="stylesheet" href="../../assets/stylesheets/application.css"><link rel="stylesheet" href="../../assets/stylesheets/docs.css"></head><body data-modules="developer-portal-sidebar-navigation developer-portal-versions-navigation"><header class="developer-portal-header" role="banner"><div class="layout-wrapper"><div class="developer-portal-header__hgroup"><h1 class="developer-portal-header__logo"><a href="http://couchbase.com" rel="home">Couchbase</a></h1><p class="developer-portal-header__page-title">Couchbase Server</p></div><nav class="developer-portal-header__navigation" id="primary-navigation" role="navigation"><div class="developer-portal-header__navigation__wrapper" id="primary-navigation__wrapper"><a href="http://www.couchbase.com/learn" class="developer-porta-header__navigation__back">
							Return to Learn
						</a><ul class="developer-portal-header__navigation__items"><li class="developer-portal-header__navigation__item"><a href="/developer">Developer Documentation</a></li><li class="developer-portal-header__navigation__item"><a href="http://developer.couchbase.com/mobile">Couchbase Mobile</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/open-source">Open Source Projects</a></li><li class="developer-portal-header__navigation__item"><a href="http://forums.couchbase.com">Forums</a></li><li class="developer-portal-header__navigation__item"><a href="http://docs.couchbase.com/archive-index">Documentation Archives</a></li></ul><div class="developer-portal-header__search"></div></div></nav></div></header><main class="developer-portal-global-content" role="main"><aside class="developer-portal-sidebar"><div class="developer-portal-sidebar__versions"><ul id="developer-portal-versions-navigation"><li class="active"><a href="#"><span>Version 3.0</span></a></li><li class=""><a href="http://docs.couchbase.com/archive-index"><span>Older</span></a></li></ul></div><nav class="developer-portal-sidebar__navigation"><div class="developer-portal-sidebar__navigation__wrapper" id="developer-portal-sidebar-navigation"><ul><li class="section section--has-sub-sections"><a href="../../Couchbase-intro.html"><span>はじめに</span></a></li><li class="section"><a href="../../Whats-new-3.0.html"><span>3.0の新機能</span></a></li><li class="section section--has-sub-sections"><a href="../../install-intro.html"><span>インストールとアップグレード</span></a></li><li class="section section--has-sub-sections"><a href="../../admin-intro.html"><span>Couchbase Serverの管理</span></a></li><li class="section section--has-sub-sections"><a href="../../Views/views-intro.html"><span>Viewとインデックス</span></a></li><li class="section section--has-sub-sections section--active"><a href="../../cli-intro.html"><span>CLIリファレンス</span></a><ul class="sub-sections"><li class="section section--has-sub-sections"><a href="../../CLI/cli-overview.html"><span>CLI概要</span></a></li><li class="section section--has-sub-sections section--active"><a href="../../CLI/cbcli-intro.html"><span>couchbase-cliツール</span></a><ul class="sub-sections"><li class="section"><a href="../../CLI/CBcli/cbcli-commands.html"><span>couchbase-cliコマンド</span></a></li><li class="section"><a href="../../CLI/CBcli/cbcli-rza.html"><span>ラックゾーンアウェアネス</span></a></li><li class="section section--has-sub-sections"><a href="../../CLI/CBcli/cbcli-buckets.html"><span>バケット</span></a></li><li class="section section--has-sub-sections"><a href="../../CLI/CBcli/cbcli-servers.html"><span>サーバノード</span></a></li><li class="section section--has-sub-sections section--active"><a href="../../CLI/CBcli/cbcli-xdcr.html" class="current"><span>XDCR</span></a><ul class="sub-sections"><li class="section"><a href="../../CLI/CBcli/cbcli-xdcr-manage-replication.html"><span>XDCRレプリケーションストリームの管理</span></a></li><li class="section"><a href="../../CLI/CBcli/cbcli-xdcr-pause-resume.html"><span>XDCRレプリケーションストリームの一時停止</span></a></li><li class="section"><a href="../../CLI/CBcli/cbcli-xdcr-manage-encryption.html"><span>XDCRデータの暗号化管理</span></a></li><li class="section"><a href="../../CLI/CBcli/cbcli-ssl.html"><span>SSL証明書の管理</span></a></li></ul></li><li class="section"><a href="../../CLI/CBcli/cbcli-cluster-wide-info.html"><span>couchbase-cliによる診断</span></a></li></ul></li><li class="section"><a href="../../CLI/cbanalyze-core_tool.html"><span>cbanalyze-coreツール</span></a></li><li class="section section--has-sub-sections"><a href="../../CLI/cbbackup_tool.html"><span>cbbackupツール</span></a></li><li class="section"><a href="../../CLI/cbcollect_info_tool.html"><span>cbcollect_info ツール</span></a></li><li class="section"><a href="../../CLI/cbdocloader_tool.html"><span>cbdocloader ツール</span></a></li><li class="section section--has-sub-sections"><a href="../../CLI/cbepctl-intro.html"><span>cbepctlツール</span></a></li><li class="section"><a href="../../CLI/cbhealthchecker_tool.html"><span>cbhealthcheckerツール</span></a></li><li class="section"><a href="../../CLI/cbreset_password_tool.html"><span>cbreset_password ツール</span></a></li><li class="section section--has-sub-sections"><a href="../../CLI/cbrestore_tool.html"><span>cbrestore ツール</span></a></li><li class="section section--has-sub-sections"><a href="../../CLI/cbstats-intro.html"><span>cbstats ツール</span></a></li><li class="section"><a href="../../CLI/cbtransfer_tool.html"><span>cbtransfer ツール</span></a></li><li class="section"><a href="../../CLI/cbworkloadgen_tool.html"><span>cbworkloadgen ツール</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../../rest-intro.html"><span>REST APIリファレンス</span></a></li><li class="section section--has-sub-sections"><a href="../../rel-notes/rel-notes3.0.html"><span>Release notes</span></a></li></ul></div></nav></aside><div class="developer-portal-content"><div class="developer-portal-content__wrapper textblock__content">
  <h1 class="title topictitle1">XDCR</h1>

  
  <div class="body refbody"><p class="shortdesc"><samp class="ph codeph">couchbase-cli</samp>ツールでは以下のXDCRコマンドが利用できます。</p>

    <div class="section"><h2 class="title sectiontitle">説明</h2>
      <p class="p">リモートXDCRレプリケーション、コネクション、オペレーションは以下のXDCRコマンドとオプションで管理します。</p>

      
    </div>

    
    <div class="section"><h2 class="title sectiontitle">CLIコマンドとパラメータ</h2>
      
      
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="cbcli-xdcr__table_drj_bcn_c4" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap">表 1. couchbase-cli xdcr コマンド</span></caption>
          
          
          <thead class="thead" align="left">
            <tr class="row">
              <th class="entry" valign="top" width="33.44481605351171%" id="d11026e44">コマンド</th>

              <th class="entry" valign="top" width="66.5551839464883%" id="d11026e47">説明</th>

            </tr>

          </thead>

          <tbody class="tbody">
            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e44 ">xdcr-setup</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e47 ">XDCRレプリケーション設定の管理。</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e44 ">setting-xdcr</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e47 ">XDCR関連のレプリケーション設定。</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e44 ">xdcr-replicate</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e47 ">XDCRレプリケーションオペレーションの管理。</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e44 ">ssl-manage</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e47 ">クラスタのSSL証明書を管理する。</td>

            </tr>

            
          </tbody>

        </table>
</div>

      
      
      <p class="p"><samp class="ph codeph">couchbase-cli xdcr-setup</samp>のオプションを以下に示します。</p>

      
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="cbcli-xdcr__table_xdcr-setup" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap">表 2. xdcr-setup オプション</span></caption>
          
          
          <thead class="thead" align="left">
            <tr class="row">
              <th class="entry" valign="top" width="33.44481605351171%" id="d11026e113">xdcr-setup オプション</th>

              <th class="entry" valign="top" width="66.5551839464883%" id="d11026e116">説明</th>

            </tr>

          </thead>

          <tbody class="tbody">
            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e113 ">--create</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e116 ">新しいXDCR設定を作成する。</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e113 ">--edit</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e116 ">既存のXDCR設定を変更する。</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e113 ">--delete</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e116 ">既存のXDCR設定を削除する。</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e113 ">--list</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e116 ">すべてのXDCR設定をリスト表示する。</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e113 ">--xdcr-cluster-name=[clustername]</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e116 ">クラスタ名。</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e113 ">--xdcr-hostname=[hostname]</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e116 ">接続するリモートホスト名。</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e113 ">--xdcr-username=[username]</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e116 ">リモートクラスタの管理者ユーザ名。</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e113 ">--xdcr-password=[password</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e116 ">リモートクラスタの管理者パスワード。</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e113 ">--xdcr-demand-encryption=[0 | 1]</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e116 ">SSLによるデータ暗号化の有効/無効化。 Trueが1で、暗号化を有効に。 Falseが0で、暗号化を無効に。 デフォルト: 0</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e113 ">--xdcr-certificate=[certificate]</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e116 ">pemエンコードの証明書を指定。 xdcr-demand-encryptionがTrueの場合、自己署名の証明書を指定する必要があります。</td>

            </tr>

          </tbody>

        </table>
</div>

            
            
            <p class="p"><samp class="ph codeph">couchbase-cli setting-xdcr</samp>のオプションを以下に示します。</p>

            
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="cbcli-xdcr__table_setting-xdcr" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap">表 3. setting-xdcr オプション</span></caption>
                
                
                <thead class="thead" align="left">
                  <tr class="row">
                    <th class="entry" valign="top" width="33.44481605351171%" id="d11026e237">setting-xdcr オプション</th>

                    <th class="entry" valign="top" width="66.5551839464883%" id="d11026e240">説明</th>

                  </tr>

                </thead>

                <tbody class="tbody">
                  <tr class="row">
                    <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e237 ">--max-concurrent-reps=[32]</td>

                    <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e240 ">バケットごとの最大並列レプリケーション、8から256。</td>

                  </tr>

                  <tr class="row">
                    <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e237 ">--checkpoint-interval=[1800]</td>

                    <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e240 ">チェックポイント間隔、60から14400秒。</td>

                  </tr>

                  <tr class="row">
                    <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e237 ">--worker-batch-size=[500]</td>

                    <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e240 ">ドキュメントワーカのバッチサイズ、500から10000</td>

                  </tr>

                  <tr class="row">
                    <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e237 ">--doc-batch-size=[2049]KB</td>

                    <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e240 ">ドキュメントバッチサイズ、10から100000KB</td>

                  </tr>

                  <tr class="row">
                    <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e237 ">--failure-restart-interval=[30]</td>

                    <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e240 ">失敗したXDCRのリスタート間隔、1から300秒</td>

                  </tr>

                  <tr class="row">
                    <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e237 ">--optimistic-replication-threshold=[256]</td>

                    <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e240 ">楽観的レプリケーション実行のドキュメントボディサイズ閾値(bytes)</td>

                  </tr>

                </tbody>

              </table>
</div>

      
     
      
      <p class="p"><samp class="ph codeph">couchbase-cli xdcr-replicate</samp>のオプションを以下に示します。</p>

      
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="cbcli-xdcr__table_xdcr-replicate" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap">表 4. xdcr-replicate オプション</span></caption>
          
          
          <thead class="thead" align="left">
            <tr class="row">
              <th class="entry" valign="top" width="33.44481605351171%" id="d11026e326">xdcr-replicate オプション</th>

              <th class="entry" valign="top" width="66.5551839464883%" id="d11026e329">説明</th>

            </tr>

          </thead>

          <tbody class="tbody">
            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e326 ">--create</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e329 ">新しいレプリケーションを作成し開始する</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e326 ">--delete</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e329 ">レプリケーションを停止しキャンセルする</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e326 ">--list</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e329 ">すべてのXDCRレプリケーションを表示</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e326 ">--pause</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e329 ">レプリケーションを一時停止</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e326 ">--resume</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e329 ">レプリケーションを再開</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e326 ">--settings</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e329 ">レプリケーションの設定を更新</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e326 ">--xdcr-replicator=[replicator]</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e329 ">レプリケーションID</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e326 ">--xdcr-from-bucket=[bucket-name]</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e329 ">レプリケーション元のローカルのバケット名</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e326 ">--xdcr-cluster-name=[remote-cluster]</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e329 ">レプリケーション先のリモートクラスタ</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e326 ">--xdcr-to-bucket=[remote-bucket]</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e329 ">レプリケーション先のリモートバケット名</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e326 ">--max-concurrent-reps =[ 16 ]</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e329 ">バケット単位の最大並列レプリケーションを指定、8から256。 デフォルト: 16</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e326 ">--checkpoint-interval =[ 1800 ]</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e329 ">チェックポイント間隔、60から14400秒</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e326 ">--worker-batch-size =[ 500 ]</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e329 ">ドキュメントワーカのバッチサイズ、500から10000</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e326 ">--doc-batch size =[ 2048 ] KB</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e329 ">ドキュメントのバッチサイズ、10から100000KB</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e326 ">--failure-restart-interval =[ 30 ]</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e329 ">失敗したXDCRのリスタート間隔、1から300秒</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e326 ">--optimistic-replication-threshold =[ 256 ]</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e329 ">楽観的レプリケーション実行のドキュメントボディサイズ閾値(bytes)</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="33.44481605351171%" headers="d11026e326 ">--xdcr-replication-mode=[xmem | capi]</td>

              <td class="entry" valign="top" width="66.5551839464883%" headers="d11026e329 ">レプリケーションプロトコル、capiあるいはxmem</td>

            </tr>

          </tbody>

        </table>
</div>

      
      <p class="p"><samp class="ph codeph">couchbase-cli ssl-manage</samp>のオプションを以下に示します。 このオプションはエンタープライズエディションのみ利用可能です。</p>

      
      
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="cbcli-xdcr__table_ssl-manage" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap">表 5. ssl-manage コマンドオプション</span></caption>
          
          
          <thead class="thead" align="left">
            <tr class="row">
              <th class="entry" valign="top" width="50%" id="d11026e514">ssl-manage オプション (エンタープライズエディションのみ)</th>

              <th class="entry" valign="top" width="50%" id="d11026e517">説明</th>

            </tr>

          </thead>

          <tbody class="tbody">
            <tr class="row">
              <td class="entry" valign="top" width="50%" headers="d11026e514 ">--retrieve-cert=[certificate]</td>

              <td class="entry" valign="top" width="50%" headers="d11026e517 ">自己署名証明書を宛先クラスタからソースクラスタへと保存する。 pemエンコード証明書のローカル保存先(絶対パス)とファイル名を指定する。 例、 <samp class="ph codeph">--retrieve-cert=./newCert.pem</samp></td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="50%" headers="d11026e514 ">--regenerate-cert=[certificate]</td>

              <td class="entry" valign="top" width="50%" headers="d11026e517 ">対象のクラスタ上で自己署名の証明書を再生成する。 pemエンコードの証明書ファイルの絶対パスを指定。例、 
                <samp class="ph codeph">--regenerate-cert=./newRegen.pem</samp></td>

            </tr>

          </tbody>

        </table>
</div>

    
    </div>

    

    <div class="section"><h2 class="title sectiontitle">例: リモートクラスタの参照を作成する</h2>
      <p class="p">リモートクラスタの参照を作成するには:</p>

      <pre class="pre codeblock"><code>couchbase-cli xdcr-setup -c 10.3.121.121:8091 -u Administrator  -p password 
    --create 
    --xdcr-cluster-name=RemoteCluster  
    --xdcr-hostname=10.3.121.123:8091  
    --xdcr-username=Administrator  
    --xdcr-password=password
</code></pre>

      
      

      
      <p class="p">成功すると、以下のレスポンスが返却されます:</p>

      <pre class="pre codeblock"><code>SUCCESS: init RemoteCluster</code></pre>

      
      <p class="p">その後、デフォルトとしてmemcachedプロトコルでリモートクラスタへのレプリケーションを開始できます。</p>

      
      <pre class="pre codeblock"><code>couchbase-cli xdcr-replicate -c 10.3.121.123:8091 -u Administrator -p password 
        --xdcr-cluster-name RemoteCluster 
        --xdcr-from-bucket default 
        --xdcr-to-bucket backup
      </code></pre>

      
      <p class="p">XDCRのレプリケーションで利用するプロトコルは設定可能です。 
        明示的にmemcachedプロトコルを指定するには:</p>

      
      <pre class="pre codeblock"><code>couchbase-cli xdcr-replicate -c 10.3.121.123:8091 -u Administrator -p password
    --xdcr-cluster-name RemoteCluster 
    --xdcr-from-bucket default 
    --xdcr-to-bucket backup 
    --xdcr-replication-mode xmem
      </code></pre>

      
      <p class="p">CAPIプロトコルを指定するには:</p>

      
      <pre class="pre codeblock"><code>couchbase-cli xdcr-replicate -c 10.3.121.123:8091 -u Administrator -p password
    --xdcr-cluster-name=RemoteCluster 
    --xdcr-from-bucket=default 
    --xdcr-to-bucket=backup
    --xdcr-replication-mode=capi
      </code></pre>

      
      <p class="p">既存のXDCRレプリケーションで、XDCRレプリケーションプロトコルを変更するには:</p>

      
      <ol class="ol">
        <li class="li">レプリケーションを削除する。</li>

        <li class="li">設定を指定してレプリケーションを再作成する。</li>

      </ol>

      
      <p class="p">バケットですでにレプリケーションが存在する場合、新しい設定でレプリケーションを開始する際にエラーとなります。</p>

      <pre class="pre codeblock"><code>couchbase-cli xdcr-replicate -c 10.3.121.121:8091 -u Administrator -p password 
    --xdcr-cluster-name=RemoteCluster 
    --xdcr-from-bucket=default 
    --xdcr-to-bucket=backup
    --xdcr-replication-mode=capi
      </code></pre>

      
      <p class="p">以下のエラーが返されます:</p>

      <pre class="pre codeblock"><code>ERROR: unable to create replication (400) Bad Request
        {u'errors': {u'_': u'Replication to the same remote cluster and bucket already exists'}}
ERROR: Replication to the same remote cluster and bucket already exists
      </code></pre>

    </div>

    
    <div class="section"><h2 class="title sectiontitle">例: XDCRリモートクラスタリストの表示</h2>
      <p class="p">以下の例では、ローカルホストから<samp class="ph codeph">couchbase-cli xdcr-setup</samp>コマンドを実行し、リモートホストをホストに指定します。 
        すべてのXDCR設定をリスト表示する:</p>

      <pre class="pre codeblock"><code>
couchbase-cli xdcr-setup 
  -c 10.5.2.117:8091 
  -u Administrator -p password 
  --list        
      </code></pre>

    </div>

    
    <div class="section"><h2 class="title sectiontitle">例: XDCRレプリケーションストリームをリスト表示する</h2>
      
      <p class="p">以下の例では、ローカルホストから<samp class="ph codeph">couchbase-cli xdcr-replicate</samp>コマンドを実行し、ホスト名にリモートホストを指定します。 
        XDCRレプリケーションストリームをリスト表示する</p>

      <pre class="pre codeblock"><code>
couchbase-cli xdcr-replicate 
  -c 10.5.2.117:8091 
  -u Administrator -p password 
  --list        
      </code></pre>

    </div>

    
    <div class="section"><h2 class="title sectiontitle">レスポンス</h2>
      <p class="p">以下は<samp class="ph codeph">couchbase-cli xdcr-setup --list</samp>コマンドオプションのレスポンス例で、ローカルホスト、UUID、URI、ユーザ名を表示します:</p>

      <pre class="pre codeblock"><code>
cluster name: source1
      uuid: bfa861d3734c90559522a88b9db81606
      host name: 10.5.2.54:8091
      user name: Administrator
      uri: /pools/default/remoteClusters/source1
      </code></pre>

      
      
      <p class="p">以下は<samp class="ph codeph">couchbase-cli xdcr-replicate --list</samp>コマンドオプションのレスポンス例で、ソースバケットからリモートバケットへのレプリケーションストリームを表示します。</p>

      <pre class="pre codeblock"><code>
stream id: bfa861d3734c90559522a88b9db81606/test2/test
   status: running
   source: test2
   target: /remoteClusters/bfa861d3734c90559522a88b9db81606/buckets/test
      </code></pre>

    
    
    </div>




  </div>

  <nav class="related-links"><h2>Related information</h2>
<ol class="olchildlinks">
<li class="link olchildlink"><a href="../../CLI/CBcli/cbcli-xdcr-manage-replication.html">XDCRレプリケーションストリームの管理</a><br>
XDCR CLIは、<samp class="ph codeph">couchbase-cli xdcr-replicate</samp>でXDCRレプリケーションを管理するためのオプションを提供します。</li>
<li class="link olchildlink"><a href="../../CLI/CBcli/cbcli-xdcr-pause-resume.html">XDCRレプリケーションストリームの一時停止</a><br>
XDCR CLIは<samp class="ph codeph">couchbase-cli xdcr-replicate</samp>でレプリケーションの一時停止および再開するためのオプションを提供します。</li>
<li class="link olchildlink"><a href="../../CLI/CBcli/cbcli-xdcr-manage-encryption.html">XDCRデータの暗号化管理</a><br>
Secure Socket Layer (SSL)を利用したXDCRデータの暗号化は、<samp class="ph codeph">couchbase-cli</samp>ツールの<samp class="ph codeph">xdcr-setup</samp>コマンドで有効化できます。 エンタープライズエディションでのみ利用できます。</li>
<li class="link olchildlink"><a href="../../CLI/CBcli/cbcli-ssl.html">SSL証明書の管理</a><br>
Secure Socket Layer (SSL)認証を利用したデータ暗号化では、Couchbaseの自己署名証明書を利用します。</li>
</ol>

<div class="familylinks">
<div class="parentlink"><strong>親トピック:</strong> <a class="link" href="../../CLI/cbcli-intro.html" title="couchbase-cliツールはクラスタ規模の操作を実行する際に利用します。">couchbase-cliツール</a></div>
<div class="previouslink"><strong>前のトピック:</strong> <a class="link" href="../../CLI/CBcli/cbcli-servers.html" title="クラスタ内のサーバノードを管理するには、様々なcouchbase-cliツールコマンドを利用します。">サーバノード</a></div>
<div class="nextlink"><strong>次のトピック:</strong> <a class="link" href="../../CLI/CBcli/cbcli-cluster-wide-info.html" title="couchbase-cliツールを利用して診断結果の収集を開始、停止、ステータスの閲覧ができます。">couchbase-cliによる診断</a></div>
</div>

<div class="linklist linklist">
<div><a class="link" href="../../XDCR/xdcr-intro.html" title="XDCRは、主に災害復旧のために、あるクラスタのデータを別のクラスタに複製します。">クロスデータセンターレプリケーション（XDCR）</a></div>
<div><a class="link" href="../../Tasks/tasks-manage-xdcr-dataEncryption.html">Managing XDCR data encryption</a></div>
<div><a class="link" href="../../Tasks/tasks-manage-xdcr.html" title="Cross datacenter replication (XDCR) provides an easy method of replicating data from one cluster to another for disaster recovery as well as better data locality (getting data closer to its users).">Managing XDCR</a></div></div>
</nav>
</div><footer class="developer-portal-footer" role="contentinfo"><p class="legal"><span class="license">© 2011–2015 <b class="company-name">Couchbase</b> All rights reserved.</span><a href="http://www.couchbase.com/developers">Developer Portal</a><a href="http://forums.couchbase.com">Forums</a><a href="http://www.couchbase.com/downloads">Download</a><a href="http://support.couchbase.com/">Customer Support Login</a></p></footer></div></main><script src="../../assets/javascripts/vendor/prism.js"></script><script type="text/javascript">var BASEPATH='../../';</script><script src="../../assets/javascripts/init.js"></script><script type="text/javascript" src="https://issues.couchbase.com/s/en_US-pvmaib-418945332/845/131/1.2.9/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId=86389172"></script></body></html>