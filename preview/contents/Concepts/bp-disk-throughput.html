<!DOCTYPE html><html xmlns:related-links="http://dita-ot.sourceforge.net/ns/200709/related-links" class="no-js developer-portal" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Disk throughput and sizing</title><meta name="apple-mobile-web-app-title" content="Couchbase"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"><link rel="stylesheet" href="../assets/stylesheets/application.css"><link rel="stylesheet" href="../assets/stylesheets/docs.css"></head><body data-modules="developer-portal-sidebar-navigation developer-portal-versions-navigation"><header class="developer-portal-header" role="banner"><div class="layout-wrapper"><div class="developer-portal-header__hgroup"><h1 class="developer-portal-header__logo"><a href="http://couchbase.com" rel="home">Couchbase</a></h1><p class="developer-portal-header__page-title">Couchbase Server</p></div><nav class="developer-portal-header__navigation" id="primary-navigation" role="navigation"><div class="developer-portal-header__navigation__wrapper" id="primary-navigation__wrapper"><a href="http://www.couchbase.com/learn" class="developer-porta-header__navigation__back">
							Return to Learn
						</a><ul class="developer-portal-header__navigation__items"><li class="developer-portal-header__navigation__item"><a href="/developer">Developer Documentation</a></li><li class="developer-portal-header__navigation__item"><a href="http://developer.couchbase.com/mobile">Couchbase Mobile</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/open-source">Open Source Projects</a></li><li class="developer-portal-header__navigation__item"><a href="http://forums.couchbase.com">Forums</a></li><li class="developer-portal-header__navigation__item"><a href="http://docs.couchbase.com/archive-index">Documentation Archives</a></li></ul><div class="developer-portal-header__search"></div></div></nav></div></header><main class="developer-portal-global-content" role="main"><aside class="developer-portal-sidebar"><div class="developer-portal-sidebar__versions"><ul id="developer-portal-versions-navigation"><li class="active"><a href="#"><span>Version 3.0</span></a></li><li class=""><a href="http://docs.couchbase.com/archive-index"><span>Older</span></a></li></ul></div><nav class="developer-portal-sidebar__navigation"><div class="developer-portal-sidebar__navigation__wrapper" id="developer-portal-sidebar-navigation"><ul><li class="section section--has-sub-sections"><a href="../Couchbase-intro.html"><span>はじめに</span></a></li><li class="section"><a href="../Whats-new-3.0.html"><span>3.0の新機能</span></a></li><li class="section section--has-sub-sections"><a href="../install-intro.html"><span>インストールとアップグレード</span></a></li><li class="section section--has-sub-sections section--active"><a href="../admin-intro.html"><span>Couchbase Serverの管理</span></a><ul class="sub-sections"><li class="section section--has-sub-sections"><a href="../Misc/admin-basics.html"><span>管理の基礎</span></a></li><li class="section section--has-sub-sections"><a href="../Concepts/concept-intro.html"><span>アーキテクチャと概念</span></a></li><li class="section section--has-sub-sections"><a href="../security/security-intro.html"><span>セキュリティ</span></a></li><li class="section section--has-sub-sections section--active"><a href="../Concepts/bp-deployment-considerations.html"><span>デプロイ構成の考慮事項</span></a><ul class="sub-sections"><li class="section"><a href="../Concepts/swap-space.html"><span>Swap space</span></a></li><li class="section"><a href="../Concepts/bp-clusterDesign.html"><span>クラスタ設計の考慮事項</span></a></li><li class="section section--has-sub-sections section--active"><a href="../Concepts/bp-sizingGuidelines.html"><span>Sizing guidelines</span></a><ul class="sub-sections"><li class="section"><a href="../Concepts/bp-disk-throughput.html" class="current"><span>Disk throughput and sizing</span></a><ul class="sub-sections"></ul></li></ul></li><li class="section"><a href="../Concepts/bp-deployment-strategies.html"><span>Deployment strategies</span></a></li><li class="section"><a href="../Concepts/bp-maintenance.html"><span>Ongoing monitoring and maintenance</span></a></li><li class="section"><a href="../Concepts/bp-firewall.html"><span>Couchbase behind a secondary firewall</span></a></li><li class="section"><a href="../Concepts/bp-cloudDeployment.html"><span>クラウドでCouchbaseを利用する</span></a></li><li class="section"><a href="../Tasks/xdcr-cloud.html"><span>XDCR in cloud deployments</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../Tasks/cluster-management.html"><span>クラスタ管理</span></a></li><li class="section section--has-sub-sections"><a href="../Monitoring/monitor-intro.html"><span>モニタリング</span></a></li><li class="section section--has-sub-sections"><a href="../XDCR/xdcr-intro.html"><span>クロスデータセンターレプリケーション（XDCR）</span></a></li><li class="section section--has-sub-sections"><a href="../UI/ui-intro.html"><span>Webコンソール</span></a></li><li class="section"><a href="../Misc/faq.html"><span>FAQ</span></a></li><li class="section section--has-sub-sections"><a href="../Misc/Trbl-intro.html"><span>トラブルシューティング</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../Views/views-intro.html"><span>Viewとインデックス</span></a></li><li class="section section--has-sub-sections"><a href="../cli-intro.html"><span>CLIリファレンス</span></a></li><li class="section section--has-sub-sections"><a href="../rest-intro.html"><span>REST APIリファレンス</span></a></li><li class="section section--has-sub-sections"><a href="../rel-notes/rel-notes3.0.html"><span>Release notes</span></a></li></ul></div></nav></aside><div class="developer-portal-content"><div class="developer-portal-content__wrapper textblock__content">
  <h1 class="title topictitle1">Disk throughput and sizing</h1>

  <div class="body"><p class="shortdesc">Couchbase Server decouples RAM from the
    I/O layer to enable high scaling.</p>

  
      <p class="p">Decoupling enables high scaling at very low and consistent latencies and very high write
      loads without affecting the client application performance.</p>

     
      <p class="p">Couchbase Server implements an append-only format and a built-in automatic compaction
      process. Requirements of your disk subsystem are broken down into two components: size and
      I/O. </p>

      <div class="section"><h2 class="title sectiontitle">Disk size requirements</h2>
      
      <p class="p">Disk size requirements are impacted by the Couchbase file write format,
        append-only, and the built-in automatic compaction process. Append-only format means
        that every write (insert/update/delete) creates a new entry in the
        file(s).</p>

      <p class="p">The required disk size increases from the update and delete workload
        and then shrinks as the automatic compaction process runs. The size increases
        because of the data expansion rather than the actual data using more disk space.
        Heavier update and delete workloads increases the size more dramatically than heavy
        insert and read workloads.</p>

      <p class="p">Size recommendations are available for key-value data only. 
        If views and indexes or XDCR are implemented, contact Couchbase support for analysis and recommendations.</p>

      <p class="p">Depending on the workload, the required disk size is <strong class="ph b">2–3x</strong> your total dataset size (active
        and replica data combined). </p>

      <div class="note important"><span class="importanttitle">Important:</span> The disk size requirement of 2-3x
        your total dataset size applies to key-value data only and does not take into
        account other data formats and the use of views and indexes or XDCR.</div>

      </div>

      
      <div class="section"><h2 class="title sectiontitle">I/O requirements</h2>
      <p class="p">I/O is a combination of the sustained write rate, the need to compact the
        database files, and anything else that requires disk access. Couchbase Server
        automatically buffers writes to the database in RAM and eventually persists them to
        disk. Because of this, the software can accommodate much higher write rates than what a
        disk is able to handle. However, sustaining these writes eventually requires enough
        I/O to get it all down to disk. </p>

      <p class="p">To manage I/O, configure the thresholds and schedule when the compaction process starts (or
        doesn’t start), keeping in mind that the successful completion of compaction is critical to
        keeping the disk size in check. Disk size and disk I/O become critical to size correctly
        when using views and indexes and Cross Data Center Replication (XDCR). They are also
        important for backups and any other operations outside of Couchbase Server that need
        space or are accessing the disk. </p>

      
      
      <div class="note tip"><span class="tiptitle">Tip:</span> Use the available configuration options to separate data files, indexes and
        the installation/configuration directories on separate drives and devices to ensure that 
        
        I/O and space are allocated effectively. </div>
</div>

  </div>

<nav class="related-links"><h2>Related information</h2>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../Concepts/bp-sizingGuidelines.html" title="The primary considerations for sizing a Couchbase Server cluster are the number of nodes and node size.">Sizing guidelines</a></div>
</div>
</nav></div><footer class="developer-portal-footer" role="contentinfo"><p class="legal"><span class="license">© 2011–2015 <b class="company-name">Couchbase</b> All rights reserved.</span><a href="http://www.couchbase.com/developers">Developer Portal</a><a href="http://forums.couchbase.com">Forums</a><a href="http://www.couchbase.com/downloads">Download</a><a href="http://support.couchbase.com/">Customer Support Login</a></p></footer></div></main><script src="../assets/javascripts/vendor/prism.js"></script><script type="text/javascript">var BASEPATH='../';</script><script src="../assets/javascripts/init.js"></script><script type="text/javascript" src="https://issues.couchbase.com/s/en_US-pvmaib-418945332/845/131/1.2.9/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId=86389172"></script></body></html>