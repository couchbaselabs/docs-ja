<!DOCTYPE html><html xmlns:related-links="http://dita-ot.sourceforge.net/ns/200709/related-links" class="no-js developer-portal" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Securing data communication</title><meta name="apple-mobile-web-app-title" content="Couchbase"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"><link rel="stylesheet" href="../assets/stylesheets/application.css"><link rel="stylesheet" href="../assets/stylesheets/docs.css"></head><body data-modules="developer-portal-sidebar-navigation developer-portal-versions-navigation"><header class="developer-portal-header" role="banner"><div class="layout-wrapper"><div class="developer-portal-header__hgroup"><h1 class="developer-portal-header__logo"><a href="http://couchbase.com" rel="home">Couchbase</a></h1><p class="developer-portal-header__page-title">Couchbase Server</p></div><nav class="developer-portal-header__navigation" id="primary-navigation" role="navigation"><div class="developer-portal-header__navigation__wrapper" id="primary-navigation__wrapper"><a href="http://www.couchbase.com/learn" class="developer-porta-header__navigation__back">
							Return to Learn
						</a><ul class="developer-portal-header__navigation__items"><li class="developer-portal-header__navigation__item"><a href="/developer">Developer Documentation</a></li><li class="developer-portal-header__navigation__item"><a href="http://developer.couchbase.com/mobile">Couchbase Mobile</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/open-source">Open Source Projects</a></li><li class="developer-portal-header__navigation__item"><a href="http://forums.couchbase.com">Forums</a></li><li class="developer-portal-header__navigation__item"><a href="http://docs.couchbase.com/archive-index">Documentation Archives</a></li></ul><div class="developer-portal-header__search"><script>
					  (function() {
					    var cx = '018016427239405524608:fkg1v30apnm';
					    var gcse = document.createElement('script');
					    gcse.type = 'text/javascript';
					    gcse.async = true;
					    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					        '//www.google.com/cse/cse.js?cx=' + cx;
					    var s = document.getElementsByTagName('script')[0];
					    s.parentNode.insertBefore(gcse, s);
					  })();
					</script><gcse:search></gcse:search></div></div></nav></div></header><main class="developer-portal-global-content" role="main"><aside class="developer-portal-sidebar"><div class="developer-portal-sidebar__versions"><ul id="developer-portal-versions-navigation"><li class="active"><a href="#"><span>Version 3.0</span></a></li><li class=""><a href="http://docs.couchbase.com/archive-index"><span>Older</span></a></li></ul></div><nav class="developer-portal-sidebar__navigation"><div class="developer-portal-sidebar__navigation__wrapper" id="developer-portal-sidebar-navigation"><ul><li class="section section--has-sub-sections"><a href="../Couchbase-intro.html"><span>はじめに</span></a></li><li class="section"><a href="../Whats-new-3.0.html"><span>3.0の新機能</span></a></li><li class="section section--has-sub-sections"><a href="../install-intro.html"><span>インストールとアップグレード</span></a></li><li class="section section--has-sub-sections section--active"><a href="../admin-intro.html"><span>Couchbase Serverの管理</span></a><ul class="sub-sections"><li class="section section--has-sub-sections"><a href="../Misc/admin-basics.html"><span>管理の基礎</span></a></li><li class="section section--has-sub-sections"><a href="../Concepts/concept-intro.html"><span>アーキテクチャと概念</span></a></li><li class="section section--has-sub-sections"><a href="../security/security-intro.html"><span>セキュリティ</span></a></li><li class="section section--has-sub-sections"><a href="../Concepts/bp-deployment-considerations.html"><span>デプロイ構成の考慮事項</span></a></li><li class="section section--has-sub-sections section--active"><a href="../Tasks/cluster-management.html"><span>クラスタ管理</span></a><ul class="sub-sections"><li class="section"><a href="../Tasks/tasks-manage-serverWarmup.html"><span>Handling server warmup</span></a></li><li class="section section--has-sub-sections"><a href="../Tasks/tasks-manage-replication.html"><span>Handling replication</span></a></li><li class="section section--has-sub-sections"><a href="../Tasks/tasks-compaction.html"><span>Compacting data files</span></a></li><li class="section section--has-sub-sections"><a href="../Tasks/cluster-maintenance.html"><span>Cluster maintenance</span></a></li><li class="section section--has-sub-sections"><a href="../Tasks/maintenance-server-node.html"><span>Server maintenance</span></a></li><li class="section section--has-sub-sections"><a href="../Tasks/tasks-backup-restore.html"><span>Backup and restore</span></a></li><li class="section section--has-sub-sections section--active"><a href="../Tasks/tasks-manage-xdcr.html"><span>Managing XDCR</span></a><ul class="sub-sections"><li class="section"><a href="../Tasks/xdcr-configure-replications.html"><span>Configuring XDCR replications</span></a></li><li class="section"><a href="../Tasks/xdcr-conflictResolution.html"><span>Conflict resolution in XDCR</span></a></li><li class="section"><a href="../Tasks/xdcr-secure-communication.html" class="current"><span>Securing data communication</span></a><ul class="sub-sections"></ul></li><li class="section"><a href="../Tasks/xdcr-tuning-optimistic-replication.html"><span>Tuning XDCR performance</span></a></li><li class="section"><a href="../Tasks/xdcr-configure-bidirection.html"><span>Configuring bi-directional replication</span></a></li><li class="section"><a href="../Tasks/xdcr-modify-settings.html"><span>Modifying XDCR settings</span></a></li><li class="section"><a href="../Tasks/tasks-dataRecovery.html"><span>Data recovery from remote clusters</span></a></li><li class="section"><a href="../XDCR/xdcr-memory-replication.html"><span>ストリームベースのXDCR</span></a></li></ul></li></ul></li><li class="section section--has-sub-sections"><a href="../Monitoring/monitor-intro.html"><span>モニタリング</span></a></li><li class="section section--has-sub-sections"><a href="../XDCR/xdcr-intro.html"><span>クロスデータセンターレプリケーション（XDCR）</span></a></li><li class="section section--has-sub-sections"><a href="../UI/ui-intro.html"><span>Webコンソール</span></a></li><li class="section"><a href="../Misc/faq.html"><span>FAQ</span></a></li><li class="section section--has-sub-sections"><a href="../Misc/Trbl-intro.html"><span>トラブルシューティング</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../Views/views-intro.html"><span>Views and indexes</span></a></li><li class="section section--has-sub-sections"><a href="../cli-intro.html"><span>CLI reference</span></a></li><li class="section section--has-sub-sections"><a href="../rest-intro.html"><span>REST API reference</span></a></li><li class="section section--has-sub-sections"><a href="../rel-notes/rel-notes3.0.html"><span>Release notes</span></a></li></ul></div></nav></aside><div class="developer-portal-content"><div class="developer-portal-content__wrapper textblock__content">
  <h1 class="title topictitle1">Securing data communication</h1>

  
  <div class="body"><p class="shortdesc">To ensure security for the replicated information, configure a suitable VPN
    gateway between the two datacenters that encrypts the data between each route between
    datacenters.</p>

      
      <p class="p">When configuring XDCR across multiple
        clusters over public networks, the data is sent unencrypted across the public interface channel.
        </p>

      
      <p class="p">Within dedicated datacenters being used for Couchbase Server deployments, you
        can configure a point to point VPN connection using a static route between the two clusters:</p>

      <img class="image" src="../images/xdcr-vpn-static.png">
      
      <p class="p">When using Amazon EC2 or other cloud deployment solutions, particularly when using different
        EC2 zones, there is no built-in VPN support between the different EC2 regional zones. However,
        there is VPN client support for your cluster within EC2 and Amazon VPC to allow communication to
        a dedicated VPN solution. </p>

      
      <p class="p">To support cluster to cluster VPN connectivity within EC2:</p>
 
      <ol class="ol">
        <li class="li">Configure a multi-point BGP VPN solution that can route multiple VPN connections.</li>

        <li class="li">Route the VPN connection from one EC2 cluster and region to the third-party BGP VPN router.</li>

        <li class="li">Route the VPN connection from the other region, 
          using the BGP gateway to route between the two VPN connections.</li>

      </ol>
 
      
      <img class="image" src="../images/xdcr-vpn-bgp.png">
      
      
      <div class="note note"><span class="notetitle">Note:</span> Configuration of these VPN routes and systems is dependent on your
        VPN solution.</div>

      
      <p class="p">For additional security, configure your security groups to allow
        traffic only on the required ports between the IP addresses for each cluster. To configure
        security groups, specify the inbound port and IP address range. You will also
        need to ensure that the security also includes the right port and IP addresses for the remainder
        of your cluster to allow communication between the nodes within the cluster.</p>

      
      <div class="note important"><span class="importanttitle">Important:</span> When configuring your VPN connection, be sure that you route and secure all the ports in use by
        the XDCR communication protocol, ports 8091 and 8092, on every node within the cluster at each
        destination.</div>

  </div>

<nav class="related-links"><h2>Related information</h2>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../Tasks/tasks-manage-xdcr.html" title="Cross datacenter replication (XDCR) provides an easy method of replicating data from one cluster to another for disaster recovery as well as better data locality (getting data closer to its users).">Managing XDCR</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../Tasks/xdcr-conflictResolution.html" title="XDCR automatically performs conflict resolution for different document versions on source and destination clusters.">Conflict resolution in XDCR</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../Tasks/xdcr-tuning-optimistic-replication.html" title="XDCR performance can be tuned via the Web console or the REST XDCR advanced settings.">Tuning XDCR performance</a></div>
</div>
</nav></div><footer class="developer-portal-footer" role="contentinfo"><p class="legal"><span class="license">© 2011–2015 <b class="company-name">Couchbase</b> All rights reserved.</span><a href="http://www.couchbase.com/developers">Developer Portal</a><a href="http://forums.couchbase.com">Forums</a><a href="http://www.couchbase.com/downloads">Download</a><a href="http://support.couchbase.com/">Customer Support Login</a></p></footer></div></main><script src="../assets/javascripts/vendor/prism.js"></script><script type="text/javascript">var BASEPATH='../';</script><script src="../assets/javascripts/init.js"></script><script type="text/javascript" src="https://issues.couchbase.com/s/en_US-pvmaib-418945332/845/131/1.2.9/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId=86389172"></script></body></html>