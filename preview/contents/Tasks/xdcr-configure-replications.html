<!DOCTYPE html><html xmlns:related-links="http://dita-ot.sourceforge.net/ns/200709/related-links" class="no-js developer-portal" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Configuring XDCR replications</title><meta name="apple-mobile-web-app-title" content="Couchbase"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"><link rel="stylesheet" href="../assets/stylesheets/application.css"><link rel="stylesheet" href="../assets/stylesheets/docs.css"></head><body data-modules="developer-portal-sidebar-navigation developer-portal-versions-navigation"><header class="developer-portal-header" role="banner"><div class="layout-wrapper"><div class="developer-portal-header__hgroup"><h1 class="developer-portal-header__logo"><a href="http://couchbase.com" rel="home">Couchbase</a></h1><p class="developer-portal-header__page-title">Couchbase Server</p></div><nav class="developer-portal-header__navigation" id="primary-navigation" role="navigation"><div class="developer-portal-header__navigation__wrapper" id="primary-navigation__wrapper"><a href="http://www.couchbase.com/learn" class="developer-porta-header__navigation__back">
							Return to Learn
						</a><ul class="developer-portal-header__navigation__items"><li class="developer-portal-header__navigation__item"><a href="/developer">Developer Documentation</a></li><li class="developer-portal-header__navigation__item"><a href="http://developer.couchbase.com/mobile">Couchbase Mobile</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/open-source">Open Source Projects</a></li><li class="developer-portal-header__navigation__item"><a href="http://forums.couchbase.com">Forums</a></li><li class="developer-portal-header__navigation__item"><a href="http://docs.couchbase.com/archive-index">Documentation Archives</a></li></ul><div class="developer-portal-header__search"><script>
					  (function() {
					    var cx = '018016427239405524608:fkg1v30apnm';
					    var gcse = document.createElement('script');
					    gcse.type = 'text/javascript';
					    gcse.async = true;
					    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					        '//www.google.com/cse/cse.js?cx=' + cx;
					    var s = document.getElementsByTagName('script')[0];
					    s.parentNode.insertBefore(gcse, s);
					  })();
					</script><gcse:search></gcse:search></div></div></nav></div></header><main class="developer-portal-global-content" role="main"><aside class="developer-portal-sidebar"><div class="developer-portal-sidebar__versions"><ul id="developer-portal-versions-navigation"><li class="active"><a href="#"><span>Version 3.0</span></a></li><li class=""><a href="http://docs.couchbase.com/archive-index"><span>Older</span></a></li></ul></div><nav class="developer-portal-sidebar__navigation"><div class="developer-portal-sidebar__navigation__wrapper" id="developer-portal-sidebar-navigation"><ul><li class="section section--has-sub-sections"><a href="../Couchbase-intro.html"><span>はじめに</span></a></li><li class="section"><a href="../Whats-new-3.0.html"><span>3.0の新機能</span></a></li><li class="section section--has-sub-sections"><a href="../install-intro.html"><span>Installation and upgrade</span></a></li><li class="section section--has-sub-sections section--active"><a href="../admin-intro.html"><span>Couchbase Serverの管理</span></a><ul class="sub-sections"><li class="section section--has-sub-sections"><a href="../Misc/admin-basics.html"><span>管理の基礎</span></a></li><li class="section section--has-sub-sections"><a href="../Concepts/concept-intro.html"><span>アーキテクチャと概念</span></a></li><li class="section section--has-sub-sections"><a href="../security/security-intro.html"><span>セキュリティ</span></a></li><li class="section section--has-sub-sections"><a href="../Concepts/bp-deployment-considerations.html"><span>デプロイ構成の考慮事項</span></a></li><li class="section section--has-sub-sections section--active"><a href="../Tasks/cluster-management.html"><span>クラスタ管理</span></a><ul class="sub-sections"><li class="section"><a href="../Tasks/tasks-manage-serverWarmup.html"><span>Handling server warmup</span></a></li><li class="section section--has-sub-sections"><a href="../Tasks/tasks-manage-replication.html"><span>Handling replication</span></a></li><li class="section section--has-sub-sections"><a href="../Tasks/tasks-compaction.html"><span>Compacting data files</span></a></li><li class="section section--has-sub-sections"><a href="../Tasks/cluster-maintenance.html"><span>Cluster maintenance</span></a></li><li class="section section--has-sub-sections"><a href="../Tasks/maintenance-server-node.html"><span>Server maintenance</span></a></li><li class="section section--has-sub-sections"><a href="../Tasks/tasks-backup-restore.html"><span>Backup and restore</span></a></li><li class="section section--has-sub-sections section--active"><a href="../Tasks/tasks-manage-xdcr.html"><span>Managing XDCR</span></a><ul class="sub-sections"><li class="section"><a href="../Tasks/xdcr-configure-replications.html" class="current"><span>Configuring XDCR replications</span></a><ul class="sub-sections"></ul></li><li class="section"><a href="../Tasks/xdcr-conflictResolution.html"><span>Conflict resolution in XDCR</span></a></li><li class="section"><a href="../Tasks/xdcr-secure-communication.html"><span>Securing data communication</span></a></li><li class="section"><a href="../Tasks/xdcr-tuning-optimistic-replication.html"><span>Tuning XDCR performance</span></a></li><li class="section"><a href="../Tasks/xdcr-configure-bidirection.html"><span>Configuring bi-directional replication</span></a></li><li class="section"><a href="../Tasks/xdcr-modify-settings.html"><span>Modifying XDCR settings</span></a></li><li class="section"><a href="../Tasks/tasks-dataRecovery.html"><span>Data recovery from remote clusters</span></a></li><li class="section"><a href="../XDCR/xdcr-memory-replication.html"><span>ストリームベースのXDCR</span></a></li></ul></li></ul></li><li class="section section--has-sub-sections"><a href="../Monitoring/monitor-intro.html"><span>モニタリング</span></a></li><li class="section section--has-sub-sections"><a href="../XDCR/xdcr-intro.html"><span>クロスデータセンターレプリケーション（XDCR）</span></a></li><li class="section section--has-sub-sections"><a href="../UI/ui-intro.html"><span>Webコンソール</span></a></li><li class="section"><a href="../Misc/faq.html"><span>FAQ</span></a></li><li class="section section--has-sub-sections"><a href="../Misc/Trbl-intro.html"><span>トラブルシューティング</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../Views/views-intro.html"><span>Views and indexes</span></a></li><li class="section section--has-sub-sections"><a href="../cli-intro.html"><span>CLI reference</span></a></li><li class="section section--has-sub-sections"><a href="../rest-intro.html"><span>REST API reference</span></a></li><li class="section section--has-sub-sections"><a href="../rel-notes/rel-notes3.0.html"><span>Release notes</span></a></li></ul></div></nav></aside><div class="developer-portal-content"><div class="developer-portal-content__wrapper textblock__content">
  <h1 class="title topictitle1">Configuring XDCR replications</h1>

  
  <div class="body"><p class="shortdesc">Configuration of XDCR replications is done on a per-bucket basis.</p>


      <p class="p">Replications are configured from the <span class="ph uicontrol">XDCR</span> tab of the Web
        Console. You configure replication on a bucket basis. To replicate data from all
        buckets in a cluster, individually configure replication for each bucket.</p>

    
      <p class="p">Before configuring XDCR:</p>

      <ul class="ul">
        <li class="li">Configure all nodes within each cluster to communicate with all the nodes on the
          destination cluster. XDCR uses any node in a cluster to replicate between the two
          clusters.</li>

        <li class="li">Ensure that all Couchbase Server versions and platforms match. For instance, if you want to replicate
          from a Linux-based cluster, you need to do so with another Linux-based cluster.</li>

        <li class="li">When XDCR performs replication, it exchanges data between clusters over TCP/IP port 8092;
          Couchbase Server uses TCP/IP port 8091 to exchange cluster configuration information. If you
          are communicating with a destination cluster over a dedicated connection or the Internet you
          should ensure that all the nodes in the destination and source clusters can communicate with
          each other over ports 8091 and 8092.</li>

      </ul>

      <p class="p"><samp class="ph codeph">Ongoing Replications</samp> are those replications that are currently configured and
        operating. You can monitor the current configuration, current status, and the last time a
        replication process was triggered for each configured replication.</p>
<p class="p">Under the XDCR tab you
          can also configure <samp class="ph codeph">Remote Clusters</samp> for XDCR; these are named destination
          clusters you can select when you configure replication. When you configure XDCR, the destination
          cluster reference should point to the IP address of one of the nodes in the destination
          cluster.</p>
<p class="p">Before you set up replication via XDCR, you should be certain that a destination
            bucket already exists. If this bucket does not exist, replication via XDCR may not find some
            shards on the destination cluster; this will result in replication of only some data from the
            source bucket and will significantly delay replication. This would also require you to retry
            replication multiple times to get a source bucket to be fully replicated to a destination.</p>

      <p class="p">Therefore, make sure that you check that a destination bucket exists. The recommended approach
        is try to read on any key from the bucket. If you receive a ‘key not found’ error, or the
        document for the key, the bucket exists and is available to all nodes in a cluster. You can do
        this via a Couchbase SDK with any node in the cluster. </p>

    
  </div>

<nav class="related-links"><h2>Related information</h2>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../Tasks/tasks-manage-xdcr.html" title="Cross datacenter replication (XDCR) provides an easy method of replicating data from one cluster to another for disaster recovery as well as better data locality (getting data closer to its users).">Managing XDCR</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../Tasks/xdcr-conflictResolution.html" title="XDCR automatically performs conflict resolution for different document versions on source and destination clusters.">Conflict resolution in XDCR</a></div>
</div>
</nav></div><footer class="developer-portal-footer" role="contentinfo"><p class="legal"><span class="license">© 2011–2015 <b class="company-name">Couchbase</b> All rights reserved.</span><a href="http://www.couchbase.com/developers">Developer Portal</a><a href="http://forums.couchbase.com">Forums</a><a href="http://www.couchbase.com/downloads">Download</a><a href="http://support.couchbase.com/">Customer Support Login</a></p></footer></div></main><script src="../assets/javascripts/vendor/prism.js"></script><script type="text/javascript">var BASEPATH='../';</script><script src="../assets/javascripts/init.js"></script><script type="text/javascript" src="https://issues.couchbase.com/s/en_US-pvmaib-418945332/845/131/1.2.9/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId=86389172"></script></body></html>