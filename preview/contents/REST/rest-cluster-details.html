<!DOCTYPE html><html xmlns:related-links="http://dita-ot.sourceforge.net/ns/200709/related-links" class="no-js developer-portal" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Viewing cluster details</title><meta name="apple-mobile-web-app-title" content="Couchbase"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"><link rel="stylesheet" href="../assets/stylesheets/application.css"><link rel="stylesheet" href="../assets/stylesheets/docs.css"></head><body data-modules="developer-portal-sidebar-navigation developer-portal-versions-navigation"><header class="developer-portal-header" role="banner"><div class="layout-wrapper"><div class="developer-portal-header__hgroup"><h1 class="developer-portal-header__logo"><a href="http://couchbase.com" rel="home">Couchbase</a></h1><p class="developer-portal-header__page-title">Couchbase Server</p></div><nav class="developer-portal-header__navigation" id="primary-navigation" role="navigation"><div class="developer-portal-header__navigation__wrapper" id="primary-navigation__wrapper"><a href="http://www.couchbase.com/learn" class="developer-porta-header__navigation__back">
							Return to Learn
						</a><ul class="developer-portal-header__navigation__items"><li class="developer-portal-header__navigation__item"><a href="/developer">Developer Documentation</a></li><li class="developer-portal-header__navigation__item"><a href="http://developer.couchbase.com/mobile">Couchbase Mobile</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/open-source">Open Source Projects</a></li><li class="developer-portal-header__navigation__item"><a href="http://forums.couchbase.com">Forums</a></li><li class="developer-portal-header__navigation__item"><a href="http://docs.couchbase.com/archive-index">Documentation Archives</a></li></ul><div class="developer-portal-header__search"><script>
					  (function() {
					    var cx = '018016427239405524608:fkg1v30apnm';
					    var gcse = document.createElement('script');
					    gcse.type = 'text/javascript';
					    gcse.async = true;
					    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					        '//www.google.com/cse/cse.js?cx=' + cx;
					    var s = document.getElementsByTagName('script')[0];
					    s.parentNode.insertBefore(gcse, s);
					  })();
					</script><gcse:search></gcse:search></div></div></nav></div></header><main class="developer-portal-global-content" role="main"><aside class="developer-portal-sidebar"><div class="developer-portal-sidebar__versions"><ul id="developer-portal-versions-navigation"><li class="active"><a href="#"><span>Version 3.0</span></a></li><li class=""><a href="http://docs.couchbase.com/archive-index"><span>Older</span></a></li></ul></div><nav class="developer-portal-sidebar__navigation"><div class="developer-portal-sidebar__navigation__wrapper" id="developer-portal-sidebar-navigation"><ul><li class="section section--has-sub-sections"><a href="../Couchbase-intro.html"><span>はじめに</span></a></li><li class="section"><a href="../Whats-new-3.0.html"><span>3.0の新機能</span></a></li><li class="section section--has-sub-sections"><a href="../install-intro.html"><span>インストールとアップグレード</span></a></li><li class="section section--has-sub-sections"><a href="../admin-intro.html"><span>Couchbase Serverの管理</span></a></li><li class="section section--has-sub-sections"><a href="../Views/views-intro.html"><span>Views and indexes</span></a></li><li class="section section--has-sub-sections"><a href="../cli-intro.html"><span>CLI reference</span></a></li><li class="section section--has-sub-sections section--active"><a href="../rest-intro.html"><span>REST API reference</span></a><ul class="sub-sections"><li class="section"><a href="../REST/overview-rest-api.html"><span>REST API overview</span></a></li><li class="section section--has-sub-sections section--active"><a href="../REST/rest-cluster-intro.html"><span>Cluster API</span></a><ul class="sub-sections"><li class="section"><a href="../REST/rest-cluster-get.html"><span>Retrieving cluster information</span></a></li><li class="section"><a href="../REST/rest-cluster-details.html" class="current"><span>Viewing cluster details</span></a><ul class="sub-sections"></ul></li><li class="section"><a href="../REST/rest-cluster-addnodes.html"><span>Adding nodes to clusters</span></a></li><li class="section"><a href="../REST/rest-cluster-joinnode.html"><span>Joining nodes into clusters</span></a></li><li class="section"><a href="../REST/rest-cluster-removenode.html"><span>Removing nodes from clusters</span></a></li><li class="section"><a href="../REST/rest-cluster-rebalance.html"><span>Rebalancing nodes</span></a></li><li class="section"><a href="../REST/rest-get-internal-setting.html"><span>Viewing internal settings</span></a></li><li class="section section--has-sub-sections"><a href="../REST/rest-cluster-autofailover-intro.html"><span>Managing auto-failover</span></a></li><li class="section"><a href="../REST/rest-cluster-disable-query.html"><span>Disabling consistent query results on rebalance</span></a></li><li class="section"><a href="../REST/rest-cluster-email-notifications.html"><span>Setting email notifications</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../REST/rest-rza.html"><span>Server groups API</span></a></li><li class="section section--has-sub-sections"><a href="../REST/rest-server-nodes.html"><span>Server nodes API</span></a></li><li class="section section--has-sub-sections"><a href="../REST/rest-bucket-intro.html"><span>Buckets API</span></a></li><li class="section section--has-sub-sections"><a href="../REST/rest-views-intro.html"><span>Views API</span></a></li><li class="section section--has-sub-sections"><a href="../REST/rest-xdcr-intro.html"><span>XDCR API</span></a></li><li class="section section--has-sub-sections"><a href="../REST/compaction-rest-api.html"><span>Compaction API</span></a></li><li class="section section--has-sub-sections"><a href="../REST/logs-rest-api.html"><span>Logs API</span></a></li><li class="section section--has-sub-sections"><a href="../REST/rest-users.html"><span>User API</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../rel-notes/rel-notes3.0.html"><span>Release notes</span></a></li></ul></div></nav></aside><div class="developer-portal-content"><div class="developer-portal-content__wrapper textblock__content">
    <h1 class="title topictitle1">Viewing cluster details</h1>

    
    <div class="body refbody"><p class="shortdesc">Cluster details are retrieved with <samp class="ph codeph">GET /pools/default</samp> HTTP method and URI.</p>

        <div class="section"><h2 class="title sectiontitle">Description</h2>
        <p class="p">At the highest level, the response for this request describes a cluster, as mentioned
            previously. The response contains a number of properties which define attributes of the
            cluster and <em class="ph i">controllers</em> which enable you to make certain requests of the
            cluster.</p>

        
        <div class="note warning"><span class="warningtitle">Warning:</span> Since buckets could be renamed and there is no way to determine the name for the default
            bucket for a cluster, the system attempts to connect non-SASL, non-proxied to a bucket
            named "default". If it does not exist, Couchbase Server drops the connection. </div>

        <p class="p">Do not rely on the server list returned by this request to connect to a Couchbase Server.
                Instead, issue an HTTP GET call to the bucket to get the node list for that specific
                bucket.</p>

        </div>

        
        <div class="section"><h2 class="title sectiontitle">HTTP method and URI</h2>
        <pre class="pre codeblock"><code>GET /pools/default</code></pre>

            
            <p class="p">The controllers in the server list all accept parameters as
                    <samp class="ph codeph">x-www-form-urlencoded</samp>, and perform the following functions:</p>

            
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap">Table 1. Controller parameters</span></caption>
                    
                    
                    <thead class="thead" align="left">
                        <tr class="row">
                            <th class="entry" valign="top" width="17.98561151079137%" id="d94452e63">Function</th>

                            <th class="entry" valign="top" width="82.01438848920863%" id="d94452e66">Description</th>

                        </tr>

                    </thead>

                    <tbody class="tbody">
                        <tr class="row">
                            <td class="entry" valign="top" width="17.98561151079137%" headers="d94452e63 ">ejectNode</td>

                            <td class="entry" valign="top" width="82.01438848920863%" headers="d94452e66 ">Eject a node from the cluster. Required parameter: “otpNode”, the
                                node to be ejected.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="17.98561151079137%" headers="d94452e63 ">addNode</td>

                            <td class="entry" valign="top" width="82.01438848920863%" headers="d94452e66 ">Add a node to this cluster. Required parameters: “hostname”,
                                “user” and “password”. Username and password are for the
                                Administrator for this node.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="17.98561151079137%" headers="d94452e63 ">rebalance</td>

                            <td class="entry" valign="top" width="82.01438848920863%" headers="d94452e66 ">Rebalance the existing cluster. This controller requires both
                                “knownNodes” and “ejectedNodes”. This enables a client to state the
                                existing known nodes and designate which nodes should be removed from the
                                cluster in a single operation. To ensure no cluster state changes
                                have occurred since a client last got a list of nodes, both the
                                known nodes and the node to be ejected must be supplied. If the list
                                does not match the set of nodes, the request will fail with an HTTP
                                400 indicating a mismatch. Note rebalance progress is available via
                                the rebalanceProgress uri.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="17.98561151079137%" headers="d94452e63 ">failover</td>

                            <td class="entry" valign="top" width="82.01438848920863%" headers="d94452e66 ">Failover the vBuckets from a given node to the nodes which have
                                replicas of data for those vBuckets. The “otpNode” parameter is
                                required and specifies the node to be failed over.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="17.98561151079137%" headers="d94452e63 ">reAddNode</td>

                            <td class="entry" valign="top" width="82.01438848920863%" headers="d94452e66 ">The “otpNode” parameter is required and specifies the node to be
                                re-added.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="17.98561151079137%" headers="d94452e63 ">stopRebalance</td>

                            <td class="entry" valign="top" width="82.01438848920863%" headers="d94452e66 ">Stop any rebalance operation currently running. This takes no
                                parameters. </td>

                        </tr>

                    </tbody>

                </table>
</div>

        </div>

        
        <div class="section"><h2 class="title sectiontitle">Syntax</h2>
            <p class="p">Curl request syntax:</p>

            <pre class="pre codeblock"><code>curl -u [admin]:[password] http://[localhost]:8091/pools/default</code></pre>

            
            <p class="p">HTTP request syntax:</p>

        <pre class="pre codeblock"><code>GET /pools/default
Host: localhost:8091
Authorization: Basic xxxxxxxxxxxxxxxxxxx
Accept: application/json
X-memcachekv-Store-Client-Specification-Version: 0.1
</code></pre>

        </div>

        
        <div class="section"><h2 class="title sectiontitle">Example</h2>
            <p class="p">To send a request using curl:</p>

            <pre class="pre codeblock"><code>
curl -u Administrator:password http://10.5.2.117:8091/pools/default
            </code></pre>

        </div>

        
        <div class="section"><h2 class="title sectiontitle">Response</h2>
        <pre class="pre codeblock"><code>

  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  3784  100  3784    0     0   501k      0 --:--:-- --:--:-- --:--:--  527k
{
    "alerts": [], 
    "alertsSilenceURL": "/controller/resetAlerts?token=0&amp;uuid=995618a6a6cc9ac79731bd13240e19b5", 
    "autoCompactionSettings": {
        "databaseFragmentationThreshold": {
            "percentage": 30, 
            "size": "undefined"
        }, 
        "parallelDBAndViewCompaction": false, 
        "viewFragmentationThreshold": {
            "percentage": 30, 
            "size": "undefined"
        }
    }, 
    "buckets": {
        "terseBucketsBase": "/pools/default/b/", 
        "terseStreamingBucketsBase": "/pools/default/bs/", 
        "uri": "/pools/default/buckets?v=109484346&amp;uuid=995618a6a6cc9ac79731bd13240e19b5"
    }, 
    "controllers": {
        "addNode": {
            "uri": "/controller/addNode?uuid=995618a6a6cc9ac79731bd13240e19b5"
        }, 
        "clusterLogsCollection": {
            "cancelURI": "/controller/cancelLogsCollection?uuid=995618a6a6cc9ac79731bd13240e19b5", 
            "startURI": "/controller/startLogsCollection?uuid=995618a6a6cc9ac79731bd13240e19b5"
        }, 
        "ejectNode": {
            "uri": "/controller/ejectNode?uuid=995618a6a6cc9ac79731bd13240e19b5"
        }, 
        "failOver": {
            "uri": "/controller/failOver?uuid=995618a6a6cc9ac79731bd13240e19b5"
        }, 
        "reAddNode": {
            "uri": "/controller/reAddNode?uuid=995618a6a6cc9ac79731bd13240e19b5"
        }, 
        "reFailOver": {
            "uri": "/controller/reFailOver?uuid=995618a6a6cc9ac79731bd13240e19b5"
        }, 
        "rebalance": {
            "uri": "/controller/rebalance?uuid=995618a6a6cc9ac79731bd13240e19b5"
        }, 
        "replication": {
            "createURI": "/controller/createReplication?uuid=995618a6a6cc9ac79731bd13240e19b5", 
            "validateURI": "/controller/createReplication?just_validate=1"
        }, 
        "setAutoCompaction": {
            "uri": "/controller/setAutoCompaction?uuid=995618a6a6cc9ac79731bd13240e19b5", 
            "validateURI": "/controller/setAutoCompaction?just_validate=1"
        }, 
        "setFastWarmup": {
            "uri": "/controller/setFastWarmup?uuid=995618a6a6cc9ac79731bd13240e19b5", 
            "validateURI": "/controller/setFastWarmup?just_validate=1"
        }, 
        "setRecoveryType": {
            "uri": "/controller/setRecoveryType?uuid=995618a6a6cc9ac79731bd13240e19b5"
        }, 
        "startGracefulFailover": {
            "uri": "/controller/startGracefulFailover?uuid=995618a6a6cc9ac79731bd13240e19b5"
        }
    }, 
    "counters": {}, 
    "fastWarmupSettings": {
        "fastWarmupEnabled": true, 
        "minItemsThreshold": 10, 
        "minMemoryThreshold": 10
    }, 
    "maxBucketCount": 10, 
    "name": "default", 
    "nodeStatusesUri": "/nodeStatuses", 
    "nodes": [
        {
            "clusterCompatibility": 196608, 
            "clusterMembership": "active", 
            "couchApiBase": "http://10.5.2.117:8092/", 
            "hostname": "10.5.2.117:8091", 
            "interestingStats": {
                "cmd_get": 0, 
                "couch_docs_actual_disk_size": 34907796, 
                "couch_docs_data_size": 33648640, 
                "couch_views_actual_disk_size": 0, 
                "couch_views_data_size": 0, 
                "curr_items": 0, 
                "curr_items_tot": 0, 
                "ep_bg_fetched": 0, 
                "get_hits": 0, 
                "mem_used": 66961824, 
                "ops": 0, 
                "vb_replica_curr_items": 0
            }, 
            "mcdMemoryAllocated": 3159, 
            "mcdMemoryReserved": 3159, 
            "memoryFree": 2939863040, 
            "memoryTotal": 4140740608, 
            "os": "x86_64-unknown-linux-gnu", 
            "otpCookie": "cjcmfayctwcdgpbk", 
            "otpNode": "ns_1@10.5.2.117", 
            "ports": {
                "direct": 11210, 
                "httpsCAPI": 18092, 
                "httpsMgmt": 18091, 
                "proxy": 11211, 
                "sslProxy": 11214
            }, 
            "recoveryType": "none", 
            "status": "healthy", 
            "systemStats": {
                "cpu_utilization_rate": 1.256281407035176, 
                "mem_free": 2939863040, 
                "mem_total": 4140740608, 
                "swap_total": 6140452864, 
                "swap_used": 0
            }, 
            "thisNode": true, 
            "uptime": "1815879", 
            "version": "3.0.0-1209-rel-enterprise"
        }
    ], 
    "rebalanceProgressUri": "/pools/default/rebalanceProgress", 
    "rebalanceStatus": "none", 
    "remoteClusters": {
        "uri": "/pools/default/remoteClusters?uuid=995618a6a6cc9ac79731bd13240e19b5", 
        "validateURI": "/pools/default/remoteClusters?just_validate=1"
    }, 
    "serverGroupsUri": "/pools/default/serverGroups?v=122320066", 
    "stopRebalanceUri": "/controller/stopRebalance?uuid=995618a6a6cc9ac79731bd13240e19b5", 
    "storageTotals": {
        "hdd": {
            "free": 46188516230, 
            "quotaTotal": 56327458816, 
            "total": 56327458816, 
            "used": 10138942586, 
            "usedByData": 34907796
        }, 
        "ram": {
            "quotaTotal": 536870912, 
            "quotaTotalPerNode": 536870912, 
            "quotaUsed": 536870912, 
            "quotaUsedPerNode": 536870912, 
            "total": 4140740608, 
            "used": 3895349248, 
            "usedByData": 66961824
        }
    }, 
    "tasks": {
        "uri": "/pools/default/tasks?v=67144358"
    }, 
    "visualSettingsUri": "/internalSettings/visual?v=7111573"
}

</code></pre>

        
        </div>

    </div>

<nav class="related-links"><h2>Related information</h2>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../REST/rest-cluster-intro.html" title="The Cluster REST API manages cluster operations.">Cluster API</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../REST/rest-cluster-get.html" title="Cluster information is retrieved with GET /pools HTTP method and URI.">Retrieving cluster information</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../REST/rest-cluster-addnodes.html" title="Nodes are added to clusters with the POST /controller/addNode HTTP method and URI.">Adding nodes to clusters</a></div>
</div>
</nav></div><footer class="developer-portal-footer" role="contentinfo"><p class="legal"><span class="license">© 2011–2015 <b class="company-name">Couchbase</b> All rights reserved.</span><a href="http://www.couchbase.com/developers">Developer Portal</a><a href="http://forums.couchbase.com">Forums</a><a href="http://www.couchbase.com/downloads">Download</a><a href="http://support.couchbase.com/">Customer Support Login</a></p></footer></div></main><script src="../assets/javascripts/vendor/prism.js"></script><script type="text/javascript">var BASEPATH='../';</script><script src="../assets/javascripts/init.js"></script><script type="text/javascript" src="https://issues.couchbase.com/s/en_US-pvmaib-418945332/845/131/1.2.9/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId=86389172"></script></body></html>