<!DOCTYPE html><html xmlns:related-links="http://dita-ot.sourceforge.net/ns/200709/related-links" class="no-js developer-portal" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Flushing buckets</title><meta name="apple-mobile-web-app-title" content="Couchbase"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"><link rel="stylesheet" href="../assets/stylesheets/application.css"><link rel="stylesheet" href="../assets/stylesheets/docs.css"></head><body data-modules="developer-portal-sidebar-navigation developer-portal-versions-navigation"><header class="developer-portal-header" role="banner"><div class="layout-wrapper"><div class="developer-portal-header__hgroup"><h1 class="developer-portal-header__logo"><a href="http://couchbase.com" rel="home">Couchbase</a></h1><p class="developer-portal-header__page-title">Couchbase Server</p></div><nav class="developer-portal-header__navigation" id="primary-navigation" role="navigation"><div class="developer-portal-header__navigation__wrapper" id="primary-navigation__wrapper"><a href="http://www.couchbase.com/learn" class="developer-porta-header__navigation__back">
							Return to Learn
						</a><ul class="developer-portal-header__navigation__items"><li class="developer-portal-header__navigation__item"><a href="/developer">Developer Documentation</a></li><li class="developer-portal-header__navigation__item"><a href="http://developer.couchbase.com/mobile">Couchbase Mobile</a></li><li class="developer-portal-header__navigation__item"><a href="http://www.couchbase.com/open-source">Open Source Projects</a></li><li class="developer-portal-header__navigation__item"><a href="http://forums.couchbase.com">Forums</a></li><li class="developer-portal-header__navigation__item"><a href="http://docs.couchbase.com/archive-index">Documentation Archives</a></li></ul><div class="developer-portal-header__search"></div></div></nav></div></header><main class="developer-portal-global-content" role="main"><aside class="developer-portal-sidebar"><div class="developer-portal-sidebar__versions"><ul id="developer-portal-versions-navigation"><li class="active"><a href="#"><span>Version 3.0</span></a></li><li class=""><a href="http://docs.couchbase.com/archive-index"><span>Older</span></a></li></ul></div><nav class="developer-portal-sidebar__navigation"><div class="developer-portal-sidebar__navigation__wrapper" id="developer-portal-sidebar-navigation"><ul><li class="section section--has-sub-sections"><a href="../Couchbase-intro.html"><span>はじめに</span></a></li><li class="section"><a href="../Whats-new-3.0.html"><span>3.0の新機能</span></a></li><li class="section section--has-sub-sections"><a href="../install-intro.html"><span>インストールとアップグレード</span></a></li><li class="section section--has-sub-sections"><a href="../admin-intro.html"><span>Couchbase Serverの管理</span></a></li><li class="section section--has-sub-sections"><a href="../Views/views-intro.html"><span>Viewとインデックス</span></a></li><li class="section section--has-sub-sections"><a href="../cli-intro.html"><span>CLIリファレンス</span></a></li><li class="section section--has-sub-sections section--active"><a href="../rest-intro.html"><span>REST APIリファレンス</span></a><ul class="sub-sections"><li class="section"><a href="../REST/overview-rest-api.html"><span>REST API overview</span></a></li><li class="section section--has-sub-sections"><a href="../REST/rest-cluster-intro.html"><span>Cluster API</span></a></li><li class="section section--has-sub-sections"><a href="../REST/rest-rza.html"><span>Server groups API</span></a></li><li class="section section--has-sub-sections"><a href="../REST/rest-server-nodes.html"><span>Server nodes API</span></a></li><li class="section section--has-sub-sections section--active"><a href="../REST/rest-bucket-intro.html"><span>Buckets API</span></a><ul class="sub-sections"><li class="section"><a href="../REST/rest-buckets-summary.html"><span>Getting all bucket information</span></a></li><li class="section"><a href="../REST/rest-bucket-info.html"><span>単一のbucket情報取得</span></a></li><li class="section"><a href="../REST/rest-bucket-stats.html"><span>Getting bucket statistics</span></a></li><li class="section"><a href="../REST/rest-buckets-streamingURI.html"><span>Getting bucket streaming URI</span></a></li><li class="section"><a href="../REST/rest-bucket-create.html"><span>Creating and editing buckets</span></a></li><li class="section"><a href="../REST/rest-bucket-set-priority.html"><span>Setting disk I/O priority</span></a></li><li class="section"><a href="../REST/rest-bucket-metadata-ejection.html"><span>メタデータ除去設定</span></a></li><li class="section"><a href="../REST/rest-bucket-parameters.html"><span>Changing bucket parameters</span></a></li><li class="section"><a href="../REST/rest-bucket-auth.html"><span>Changing bucket authentication</span></a></li><li class="section"><a href="../REST/rest-bucket-memory-quota.html"><span>Changing bucket memory quota</span></a></li><li class="section"><a href="../REST/rest-bucket-delete.html"><span>Deleting buckets</span></a></li><li class="section"><a href="../REST/rest-bucket-flush.html" class="current"><span>Flushing buckets</span></a><ul class="sub-sections"></ul></li></ul></li><li class="section section--has-sub-sections"><a href="../REST/rest-views-intro.html"><span>Views API</span></a></li><li class="section section--has-sub-sections"><a href="../REST/rest-xdcr-intro.html"><span>XDCR API</span></a></li><li class="section section--has-sub-sections"><a href="../REST/compaction-rest-api.html"><span>Compaction API</span></a></li><li class="section section--has-sub-sections"><a href="../REST/logs-rest-api.html"><span>Logs API</span></a></li><li class="section section--has-sub-sections"><a href="../REST/rest-users.html"><span>ユーザAPI</span></a></li></ul></li><li class="section section--has-sub-sections"><a href="../rel-notes/rel-notes3.0.html"><span>Release notes</span></a></li></ul></div></nav></aside><div class="developer-portal-content"><div class="developer-portal-content__wrapper textblock__content">
  <h1 class="title topictitle1">Flushing buckets</h1>

  
  
  <div class="body refbody"><p class="shortdesc">To flush all buckets, use the <samp class="ph codeph">POST
      /pools/default/buckets/default/controller/doFlush</samp> HTTP method and URI.</p>

    <div class="section"><h2 class="title sectiontitle">Description</h2>
    
    <p class="p">The <samp class="ph codeph">doFlush</samp> operation empties the contents of the specified bucket, deleting
      all stored data. The operation only succeeds if flush is enabled on configured bucket.</p>

    
    <div class="note warning"><span class="warningtitle">Warning:</span> This operation is data destructive. The service makes no attempt to confirm or double check
      the request. Client applications using this are advised to double check with the end user
      before sending such a request. You can control and limit the ability to flush individual
      buckets by setting the <samp class="ph codeph">flushEnabled</samp> parameter on a bucket in Couchbase Web Console or via
      <samp class="ph codeph">cbepctl flush_param</samp>.</div>

      
      <p class="p">Parameters and payload data are ignored, but the request must including the authorization
        header if the system has been secured.</p>

      
      <div class="note important"><span class="importanttitle">Important:</span> The flush request may lead to significant disk activity as the data in the bucket is deleted
        from the database. The high disk utilization may affect the performance of your server until
        the data has been successfully deleted. </div>

      
      <div class="note note"><span class="notetitle">Note:</span> The flush request is not transmitted over XDCR replication configurations;.
        The remote bucket is not flushed. </div>

      <p class="p">Couchbase Server returns a HTTP 404 response if the URI is invalid or if it does not
        correspond to an active bucket in the system.</p>

    </div>

    
    
    <div class="section"><h2 class="title sectiontitle">HTTP method and URI</h2>
      <pre class="pre codeblock"><code>POST /pools/default/buckets/default/controller/doFlush</code></pre>

    </div>

    
    <div class="section"><h2 class="title sectiontitle">Syntax</h2>
      <p class="p">Curl request syntax:</p>

      <pre class="pre codeblock"><code>curl -X POST -u [admin]:[password]
  http://[localhost]:8091/pools/default/buckets/default/controller/doFlush
      </code></pre>

      
      <p class="p">Raw HTTP request syntax:</p>

      <pre class="pre codeblock"><code>POST /pools/default/buckets/default/controller/doFlush
Host: localhost:8091
Authorization: Basic xxxxxxxxxxxxxxxxxxx
      </code></pre>

    </div>

    
    <div class="section"><h2 class="title sectiontitle">Example</h2>
      <p class="p">Curl request example:</p>

      <pre class="pre codeblock"><code>
curl -X POST 'http://admin:password@localhost:8091/pools/default/buckets/default/controller/doFlush'
  </code></pre>

      
      <p class="p">Raw HTTP request example:</p>

      <pre class="pre codeblock"><code>POST /pools/default/buckets/default/controller/doFlush
Host: 10.5.2.54:8091
Authorization: Basic xxxxxxxxxxxxxxxxxxx
      </code></pre>

    </div>

    
    
    <div class="section"><h2 class="title sectiontitle">Response codes</h2>
      <p class="p">If the flush is successful, the HTTP response code is <samp class="ph codeph">200</samp> is returned.</p>

      <pre class="pre codeblock"><code>HTTP/1.1 200 OK</code></pre>

      
      <p class="p">If flushing is disable for the specified bucket, a 400 response code is returned with the
        bucket status. For example:</p>

      <pre class="pre codeblock"><code>{"_":"Flush is disabled for the bucket"}</code></pre>

      
    <p class="p">If the bucket does not exist, a 404 response code is returned.</p>

    <pre class="pre codeblock"><code>404 Not Found</code></pre>

    </div>


  </div>

<nav class="related-links"><h2>Related information</h2>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../REST/rest-bucket-intro.html" title="Buckets REST APIはbucketとbucket操作についての情報の作成、削除、フラッシュ、取得を行います。">Buckets API</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../REST/rest-bucket-delete.html" title="To delete buckets, use the DELETE /pools/default/buckets/[bucket-name] HTTP method and URI.">Deleting buckets</a></div>
</div>
</nav></div><footer class="developer-portal-footer" role="contentinfo"><p class="legal"><span class="license">© 2011–2015 <b class="company-name">Couchbase</b> All rights reserved.</span><a href="http://www.couchbase.com/developers">Developer Portal</a><a href="http://forums.couchbase.com">Forums</a><a href="http://www.couchbase.com/downloads">Download</a><a href="http://support.couchbase.com/">Customer Support Login</a></p></footer></div></main><script src="../assets/javascripts/vendor/prism.js"></script><script type="text/javascript">var BASEPATH='../';</script><script src="../assets/javascripts/init.js"></script><script type="text/javascript" src="https://issues.couchbase.com/s/en_US-pvmaib-418945332/845/131/1.2.9/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId=86389172"></script></body></html>